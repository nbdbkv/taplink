{% extends 'base.html' %}
{% load static %}

{% block title_page %}{% endblock %}

{% block style-libs %}{% endblock %}

{% block style %}{% endblock %}

{% block content %}

    <div class="box__wrap">
        <div class="form__box">
            <form action="" id="number" data-url="{% url 'val-number_page' %}" style="display: block;">
                <div class="form__box-head">
                    <h2 class="form__title">
                        Введите новый номер
                    </h2>
                </div>
                <label class="form__input-wrap">
                    <input type="text" id="input_number" class="form__input form__input-tel" required>
                </label>
                <button onclick="validateNumber()" class="form__btn" type="button">
                    Сохранить изменения
                </button>
                <button id='sign-in-button' hidden></button>
            </form>

            <form action="{% url 'change-num_page' %}" id="submit" style="display: none;" method="post">
                {% csrf_token %}
                <div class="form__box-head">
                    <h2 class="form__title">
                        Подтверждение номера
                        телефона
                    </h2>
                </div>
                <div class="check__number">
                    <div class="profile__icon">
                        <svg width="40" height="41" viewBox="0 0 40 41" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M36.0994 36.4314C35.1498 33.7735 33.0574 31.4248 30.1467 29.7497C27.2359 28.0746 23.6696 27.1666 20.0007 27.1666C16.3318 27.1666 12.7654 28.0746 9.85463 29.7497C6.94389 31.4248 4.85147 33.7735 3.90189 36.4314"
                                  stroke="#979797" stroke-width="3" stroke-linecap="round"/>
                            <ellipse cx="19.9993" cy="13.8333" rx="8.33333" ry="8.33333" stroke="#979797"
                                     stroke-width="3" stroke-linecap="round"/>
                        </svg>
                    </div>
                    <div>
                        <p class="check__number-number">
                            +996 700 12 34 56
                        </p>
                        <a href="{% url 'change-num_page' %}" class="wrong__number">
                            Неверный номер телефона?
                        </a>
                    </div>
                </div>
                <label class="form__input-wrap">
                    <input type="hidden" id="phone_number" name="phone_number" class="form__input" required>
                </label>
                <label class="form__input-wrap">
                    <input type="text" id="input_code" class="form__input" placeholder="Введите код подтверждения" required>
                </label>
                <button onclick="sendConfirmCode()" id="send_code" class="form__btn" type="button">
                    Подтвердить
                </button>
                <a href="" class="no__sms">
                    Не пришло SMS сообщение?
                </a>
                <button onclick="getConfirmCode()" id="get_code" class="sms__timer" type="button" disabled>
                    Отправить снова через 0:<span class="timer__seconds">59</span>
                </button>
                <button id="submit-messenger" type="submit" hidden></button>
                <button id='sign-in-button' hidden></button>
            </form>
        </div>
    </div>

    <div class="success__notification">
        Номер успешно изменен
    </div>

{% endblock %}

{% block scripts %}
    <script src="{% static 'js/change-number.js' %}"></script>
{% endblock %}
